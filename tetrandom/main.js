!function(n){var t={};function e(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return n[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=n,e.c=t,e.d=function(n,t,r){e.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:r})},e.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},e.t=function(n,t){if(1&t&&(n=e(n)),8&t)return n;if(4&t&&"object"==typeof n&&n&&n.__esModule)return n;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),2&t&&"string"!=typeof n)for(var i in n)e.d(r,i,function(t){return n[t]}.bind(null,i));return r},e.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return e.d(t,"a",t),t},e.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},e.p="",e(e.s=1)}([function(n,t,e){},function(n,t,e){"use strict";e.r(t);e(0);function r(n,t){return n=Math.ceil(n),t=Math.floor(t),Math.floor(Math.random()*(t-n+1))+n}var i=function n(){var t=[{},{},{},{}];return t.forEach(function(n){n.x=r(3,6),n.y=r(0,-5)}),function(n){var t=n.map(function(n){return JSON.stringify(n)});return 4!==t.filter(function(n,e){return t.indexOf(n)===e}).length}(t)&&(t=n()),t},o=i(),u=[],a=20;var c=function(){var n=document.getElementById("canvas");if(n){var t=n.getContext("2d");n.height=400,n.width=200,n.style.background="#d3d3d3",t.clearRect(0,0,n.width,n.height),o.map(function(n){!function(n,t,e){e.fillStyle="#000",e.fillRect(a*n,a*t,20,20)}(n.x,n.y,t)}),u.map(function(n){!function(n,t,e){e.fillStyle="#696969",e.fillRect(a*n,a*t,20,20)}(n.x,n.y,t)})}},f=0;function l(n){!function(n){if(A){for(var t=u.length-1;t>=0;t--)u[t].y===n&&u.splice(t,1);f++}}(n),function(n){u.forEach(function(t){return t.y<n&&t.y++})}(n)}function d(){var n,t={};0!==u.length&&(!function(n){var t=!0,e=!1,r=void 0;try{for(var i,o=u[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;void 0===n[a.y]?n[a.y]=1:n[a.y]++}}catch(n){e=!0,r=n}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}}(t),(n=function(n){return Object.keys(n).find(function(t){return n[t]>=4})}(t))<=0||n&&l(parseInt(n)))}var y=document.getElementById("table");function m(){var n,t,e,r;h(),(e=document.createElement("div")).id="container",y.appendChild(e),(t=document.createElement("canvas")).id="canvas",e.appendChild(t),(n=document.createElement("div")).id="counter",y.appendChild(n),(r=u).length>0&&(r.length=0),0!=f&&(f=0),M||(M=!0,A=!0,requestAnimationFrame(function(n){S=!0,p=n,O=n,E=0,requestAnimationFrame(T)}))}function h(){for(;y.firstChild;)y.removeChild(y.firstChild)}function s(){var n,t,e;(n=document.createElement("h1")).id="title",y.appendChild(n),n.innerHTML="GAME OVER",(t=document.createElement("h3")).id="commands",y.appendChild(t),t.innerHTML="SCORE: ".concat(f),(e=document.createElement("button")).id="startButton",y.appendChild(e),e.innerHTML="play again",e.onclick=m}var p=0,v=60,b=0,g=1e3/60,x=60,E=0,O=0,S=!1,M=!1,w=0,A=!1;function C(){w>100&&(L(o),w=0),function(){if(o.some(j))return k(),void N();if(R("y",1))return k(),void N();u.some(J)&&(console.log(u),A=!1,M=!1,cancelAnimationFrame(T),h(),s())}(),!1!==S&&(d(),c(),document.getElementById("counter").innerHTML="Lines: ".concat(f))}function T(n){if(w++,n<p+1e3/v)requestAnimationFrame(T);else{b+=n-p,p=n,n>O+1e3&&(x=.25*E+.75*x,O=n,E=0),E++;for(var t=0;b>=g;)if(C(),b-=g,++t>=240){b=0;break}requestAnimationFrame(T)}}function k(){o.map(function(n){return u.push(JSON.parse(JSON.stringify(n)))})}function N(){var n=i();o.forEach(function(t,e){t.x=n[e].x,t.y=n[e].y})}function j(n){return 19===n.y}function J(n){return n.y<=0}function R(n,t){var e=!0,r=!1,i=void 0;try{for(var a,c=o[Symbol.iterator]();!(e=(a=c.next()).done);e=!0){var f=a.value,l=JSON.parse(JSON.stringify(f));l[n]=l[n]+t;for(var d=JSON.stringify(l),y=0;y<u.length;y++)if(d===JSON.stringify(u[y]))return!0}}catch(n){r=!0,i=n}finally{try{e||null==c.return||c.return()}finally{if(r)throw i}}}function L(n,t){return n.forEach(function(n){n.y++}),0,n}function H(n){return n.x===this.border}function _(n,t,e){return!o.some(H,n)&&!R(t,e)}function B(n,t){return 0===n&&_({border:n},"x",-1)?(t.forEach(function(n){n.x--}),t):9===n&&_({border:n},"x",1)?(t.forEach(function(n){n.x++}),t):void 0}function F(n){return function(n){if(Array.isArray(n)){for(var t=0,e=new Array(n.length);t<n.length;t++)e[t]=n[t];return e}}(n)||function(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function I(n,t){return(Math.min.apply(Math,F(t.map(function(t){return t[n]})))+Math.max.apply(Math,F(t.map(function(t){return t[n]}))))/2}function P(n,t,e,r){return function(n,t,e){return n%1==0&&t%1!=0?e<=2?n+=.5:n-=.5:n}(I(n,r),I(t,r),e)}function q(n){return n.y>19}function D(n,t,e){n.forEach(function(n){n[t]=n[t]+e})}function G(n,t){if(function(n){var t=!0,e=!1,r=void 0;try{for(var i,o=n[Symbol.iterator]();!(t=(i=o.next()).done);t=!0)for(var a=i.value,c=0;c<u.length;c++)if(JSON.stringify(a)===JSON.stringify(u[c]))return!0}catch(n){e=!0,r=n}finally{try{t||null==o.return||o.return()}finally{if(e)throw r}}}(n))return n.forEach(function(n,e){n.x=t[e].x,n.y=t[e].y}),n}var K,V=(K=1,function(n,t){var e=JSON.parse(JSON.stringify(n));return function(n,t,e,r){e.forEach(function(e){var i=n-(e.y-t)*r,o=t+(e.x-n)*r;e.x=i,e.y=o})}(P("x","y",K,n),P("y","x",K,n),n,t),function n(t){t.some(q)&&(D(t,"y",-1),n());var e=function(n){return n.some(function(n){return n.x<0})?1:!!n.some(function(n){return n.x>9})&&-1}(t);e&&(D(t,"x",e),n())}(n),K=function(n){return n<4?n+=1:1}(K),G(n,e),n});var W,Y,z,Q=function(n){switch(n.key){case"ArrowLeft":B(0,o);break;case"ArrowRight":B(9,o);break;case"ArrowDown":L(o);break;case"a":V(o,-1);break;case"d":V(o,1)}};window.onkeydown=Q,(W=document.createElement("h1")).id="title",y.appendChild(W),W.innerHTML="TETRANDOM",(Y=document.createElement("h3")).id="commands",y.appendChild(Y),Y.innerHTML="Move the TETRANDOMS with the ARROW KEYS<br>Rotate them with the keys 'A' and 'D'<br>Good luck!",(z=document.createElement("button")).id="startButton",y.appendChild(z),z.innerHTML="start",z.onclick=m}]);