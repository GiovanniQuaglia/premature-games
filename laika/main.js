!function(e){var t={};function n(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return e[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(i,a,function(t){return e[t]}.bind(null,a));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n.p+"723a397a3245e4e532c2d5e6989f35e6.png"},function(e,t,n){e.exports=n.p+"c1f0b7e98d16bc70188543a0ae8b6124.png"},function(e,t,n){e.exports=n.p+"af90457bc11e597a2b16b1651b130a8c.png"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(3);var i=document.getElementById("sky-container"),a=document.createElement("div");i.appendChild(a),a.id="futureBackground";var o=document.createElement("div");i.appendChild(o),o.className="background";var r=document.createElement("div");document.body.appendChild(r),r.id="asteroidContainer";var d=document.createElement("div");r.appendChild(d),d.class="planet",d.id="planetBack";var c=document.createElement("canvas");d.appendChild(c),c.id="dynamicCanvas";var s=document.createElement("canvas");r.appendChild(s),s.id="player",s.width=54,s.height=106;var u=document.createElement("div");r.appendChild(u),u.class="planet",u.id="planetFront";var l=document.createElement("div");document.body.appendChild(l),l.id="yearChangeBlender";var f=document.createElement("div");document.body.appendChild(f),f.id="touchAreaLeft";var m=document.createElement("div");document.body.appendChild(m),m.id="touchAreaRight";var h=document.createElement("div");document.body.appendChild(h),h.id="actionsContainer";var v=document.createElement("input");h.appendChild(v),v.id="yearSelector",v.type="tel";var p=document.createElement("div");h.appendChild(p),p.id="yearSelectorButton";var y=document.createElement("span");h.appendChild(y),y.id="textSpan";var g=document.createElement("div");document.body.appendChild(g),g.classList.add("actionNotification");var w=document.createElement("div");w.id="titleWrapper",document.body.appendChild(w);var b=document.createElement("div");w.appendChild(b),b.id="title",b.innerHTML="ЛАЙКА";var T=document.createElement("div");w.appendChild(T),T.id="undertitle",T.innerHTML="A DOG LOST IN SPACE";var C=document.createElement("div");document.body.appendChild(C),C.id="instructions",C.innerHTML="Move around with the left / right arrow keys<br/>and do things with the arrow up key";var E=document.createElement("div");E.id="startButton",E.innerHTML="START",w.appendChild(E);var A=document.createElement("div");i.appendChild(A),A.id="endText";var L=document.createElement("div");i.appendChild(L),L.id="credits";var k={angle:0,arrowKeys:{ArrowLeft:!1,ArrowRight:!1,ArrowUp:!1,ArrowDown:!1},actionForbidden:!1,actionIsRunning:!1,year:1957,chapter:1,hasTimeMachine:!1,hasTravelledInTime:!1},I=function(e){return k.angle="left"===e?k.angle+=1.5:k.angle-=1.5,k.angle>360&&(k.angle%=360),k.angle<0&&(k.angle=360-k.angle),k.angle},M=function(e){u.style.transform="translateX(-50%) rotate(".concat(e,"deg)"),d.style.transform="translateX(-50%) rotate(".concat(e,"deg)")},D=function(){if(!0===k.arrowKeys.ArrowRight){var e=I();M(e)}if(!0===k.arrowKeys.ArrowLeft){var t=I("left");M(t)}},R="Seems that there's nothing here.",K="So...",x="basically I am screwed.",F="What a great idea to send me here.",S="Nothing to do.",H="Nobody to talk to.",P="And as if that were not enough...",O="with this glass helmet I cannot even lick myself.",j="Hey, there is something shiny over there.",B="There is a strange thing and a message:",N='"Hi Laika, it\'s Laika from the future."',_='"This is a time machine that I built,"',U='"use it to travel in time and build the machine itself,"',q='"so that I can send it back to you."',W="This makes no sense",G="but who am I to argue with myself?",X="That is right!",z="I just have to place the time machine before my arrival,",Q="so that my past me can use it.",Y="Or maybe this is just a trivial solution for complex problem.",$="You know what?",J="Whatever.",V="Hi, I know you are there now.";function Z(e,t){(function(e){return new Promise(function(t){return setTimeout(t,e)})})(e).then(function(){y.innerHTML=t})}var ee=function(){v.style.opacity="0",setTimeout(function(){},300)},te={C01:{firstDialogue:"firstDialogue",secondDialogue:!1,thirdDialogue:!1,timeMachineDiscovery:!1,displayTimeMachine:!1}},ne=n(0),ie=n.n(ne),ae=new Image;ae.src=ie.a;var oe=c.getContext("2d");function re(e,t,n,i,a,o){c.style.visibility=e,c.style.opacity=t,c.style.width=n,c.style.height=i,c.style.top=a,c.style.left=o}var de=function(){A.innerHTML="End",L.innerHTML="Made by Giovanni Quaglia",i.style.zIndex="10"},ce=function(){te.C01.displayTimeMachine=!1,re("hidden",0),Z(1e3,N),Z(4e3,_),Z(8e3,U),Z(11e3,q),Z(14e3,""),Z(16e3,W),Z(2e4,G),Z(23e3,""),setTimeout(function(){k.actionForbidden=!1,te.C01.thirdDialogue="thirdDialogue",v.style.opacity="1"},24e3)},se=function(e){if(e===R&&!1===k.actionForbidden)return k.actionForbidden=!0,ee(),Z(2e3,K),Z(4e3,x),Z(6e3,""),Z(7e3,F),Z(9900,""),Z(10500,S),Z(12300,H),Z(14e3,""),Z(15e3,P),Z(18e3,O),Z(23e3,""),setTimeout(function(){te.C01.displayTimeMachine=!0,re("visible",1,20,20,"384px","111px")},25e3),Z(26e3,j),Z(29e3,""),void setTimeout(function(){te.C01.secondDialogue="secondDialogue",k.actionForbidden=!1},29e3);e===B&&!1===k.actionForbidden&&(k.actionForbidden=!0,ee(),ce()),e===X&&!1===k.actionForbidden&&(k.actionForbidden=!0,ee(),Z(1e3,z),Z(4e3,Q),Z(8e3,Y),Z(11e3,""),Z(14e3,$),Z(16e3,J),Z(17500,""),setTimeout(function(){de()},21e3))};var ue=function(e,t){return k.actionIsRunning=!0,y.innerHTML=e,!0===k.arrowKeys.ArrowDown||!0===k.arrowKeys.ArrowLeft||!0===k.arrowKeys.ArrowRight?(k.actionIsRunning=!1,y.innerHTML="",se(e),!1):t},le=function(e){g.id=e};function fe(e,t){if(k.arrowKeys.ArrowUp||k.actionIsRunning)return le(""),void(te.C01[e]=ue(t,e));le("talk")}var me=function(){te.C01.firstDialogue&&k.angle>=200&&k.angle<=230?fe(te.C01.firstDialogue,R):te.C01.secondDialogue&&k.angle>=140&&k.angle<=155?fe(te.C01.secondDialogue,B):k.hasTravelledInTime&&te.C01.thirdDialogue&&k.angle>=140&&k.angle<=155?fe(te.C01.thirdDialogue,X):le("")},he=function(){if(k.angle>=10&&k.angle<=60)return k.arrowKeys.ArrowUp||k.actionIsRunning?(le(""),void ue(V)):(y.innerHTML="",void le("talk"));le("")};var ve=function(){k.actionForbidden||function(){switch("".concat(k.year)){case"1957":me();break;case"2018":he()}}()},pe=n(1),ye=n.n(pe),ge=n(2),we=n.n(ge),be=new Image;be.src=we.a;var Te=new Image;Te.src=ye.a;var Ce,Ee,Ae=document.getElementById("player").getContext("2d"),Le=function(){var e=54*(Math.floor(Date.now()/60)%9);Ae.clearRect(0,0,54,106),Ae.drawImage(Te,e,Ee,54,106,0,0,54,106)},ke=function(){if(k.arrowKeys.ArrowLeft||k.arrowKeys.ArrowRight)!function(){if(!0===k.arrowKeys.ArrowLeft)return Ee=0,void Le();!0===k.arrowKeys.ArrowRight&&(Ee=108,Le())}();else{var e=54*(2===(Ce=Number(Math.floor(Date.now()/60).toString().slice(-1)))||7===Ce?1:Ce>=3&&Ce<=6?2:0);108===Ee&&(Ae.save(),Ae.translate(54,0),Ae.scale(-1,1)),Ae.clearRect(0,0,54,106),Ae.drawImage(be,e,0,54,106,0,0,54,106),Ae.restore()}};var Ie=function(e){1===k.chapter&&te.C01.displayTimeMachine&&function(e){c.style.width=20,c.style.height=20;var t=Math.ceil(e/4)%8*20;oe.clearRect(0,0,20,20),oe.drawImage(ae,t,0,20,20,0,0,20,20)}(e)},Me=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"];function De(e){Me.includes(e.key)&&(k.arrowKeys[e.key]="keydown"===e.type,e.preventDefault())}window.addEventListener("keydown",De),window.addEventListener("keyup",De),f.addEventListener("touchstart",function(e){k.arrowKeys.ArrowLeft=!0,e.stopPropagation()}),m.addEventListener("touchstart",function(e){k.arrowKeys.ArrowRight=!0,e.stopPropagation()}),f.addEventListener("touchend",function(e){k.arrowKeys.ArrowLeft=!1,e.stopPropagation()}),m.addEventListener("touchend",function(e){k.arrowKeys.ArrowRight=!1,e.stopPropagation()}),g.addEventListener("touchend",function(e){k.arrowKeys.ArrowUp=!0,e.stopPropagation()});var Re=function(){l.style.opacity="1",l.style.visibility="visible",setTimeout(function(){l.style.opacity="0"},600),setTimeout(function(){l.style.visibility="hidden"},1e3)};var Ke=function(e){var t="".concat(e);"0"===t?(Z(1200,"One of my ancestors was born this year."),Z(5200,"")):t.length>4?(Z(1200,"This doesn't look good. Better not to go too much into the future."),Z(5200,"")):"1957"===t||"2018"===t||"0"===t||(Z(1200,"Seems like there is nothing special now."),Z(5200,""))},xe=function(e){var t=new RegExp("^[0-9]+$");return e.match(t)},Fe=function(e){e<9999?setTimeout(function(){o.style.visibility="visible"},400):setTimeout(function(){o.style.visibility="hidden"},400)};function Se(e){if(!0!==k.actionForbidden){var t=v.value;13===(e.which||e.keyCode)&&xe(t)&&(Re(),Fe(t),Ke(t),le(""),k.year=t,k.hasTravelledInTime=!0)}}v.value=k.year,v.addEventListener("focusout",function(){v.value=k.year}),v.addEventListener("keypress",Se);var He=0,Pe=60,Oe=0,je=25,Be=60,Ne=0,_e=0;function Ue(e){if(e<He+1e3/Pe)requestAnimationFrame(Ue);else{Oe+=e-He,He=e,e>_e+1e3&&(Be=.25*Ne+.75*Be,_e=e,Ne=0),Ne+=1;for(var t=0;Oe>=je;)if(D(),ve(),ke(),Ie(Ne),Oe-=je,++t>=240){Oe=0;break}requestAnimationFrame(Ue)}}function qe(){requestAnimationFrame(function(e){ke(),He=e,_e=e,Ne=0,requestAnimationFrame(Ue)})}qe();var We=qe;function Ge(){C.style.opacity="0"}var Xe=function(){r.style.opacity="1",r.style.visibility="visible",a.style.visibility="visible"};function ze(){E.addEventListener("click",function(e){e.preventDefault(),w.remove(),C.style.visibility="visible",setTimeout(Ge,4e3),setTimeout(function(){C.remove(),Xe(),We()},5e3)})}var Qe=function(){ze()};document.onload=Qe()}]);